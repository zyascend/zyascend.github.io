(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a6b649c"],{ab37:function(t,a,i){"use strict";var s=i("f632"),r=i.n(s);r.a},b76b:function(t,a,i){"use strict";i.r(a);var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"music-container",style:{background:"center url("+t.backgroundPic+") no-repeat"}},[i("div",{staticClass:"player"},[i("div",{class:t.isTimerPlaying?"player-cover cover-scale-up":"player-cover"},[i("transition-group",{attrs:{name:t.transitionName}},[t._l(t.tracks,(function(a,s){return[s===t.currentTrackIndex?i("div",{key:s,staticClass:"player-cove-item",style:{backgroundImage:"url("+a.cover+")"}}):t._e()]}))],2)],1),i("div",{staticClass:"player-down"},[i("div",{staticClass:"info"},[i("p",{staticClass:"name"},[t._v(t._s(t.currentTrack.name))]),i("p",{staticClass:"singer"},[t._v(t._s(t.currentTrack.singer))])]),i("div",{ref:"progress",staticClass:"progress-bar",on:{click:t.changeProgress}},[i("div",{staticClass:"progress-duration",style:{width:t.currentBarWidth}})]),i("div",{staticClass:"progress-info"},[i("p",{staticClass:"progress-played"},[t._v(t._s(t.currentTime))]),i("p",{staticClass:"progress-left"},[t._v(t._s(t.duration))])]),i("div",{staticClass:"control"},[i("a",{staticClass:"control-icon",on:{click:t.playPre}},[i("i",{staticClass:"fa fa-backward fa-2x"})]),i("a",{staticClass:"control-icon btn-play",on:{click:t.play}},[i("i",{class:t.isTimerPlaying?"fa fa-pause fa-2x":"fa fa-play fa-2x"})]),i("a",{staticClass:"control-icon",on:{click:t.playNext}},[i("i",{staticClass:"fa fa-forward fa-2x"})])]),i("div",{staticClass:"volume"},[t._m(0),i("div",{ref:"volume",staticClass:"volume-control",on:{click:t.chooseVolume}},[i("div",{staticClass:"volume-duration",style:{width:t.currentVolumeWidth}})]),t._m(1)])])])])},r=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("a",{staticClass:"volume-icon"},[i("i",{staticClass:"fa fa-volume-down"})])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("a",{staticClass:"volume-icon"},[i("i",{staticClass:"fa fa-volume-up"})])}],e=i("03c8"),n={name:"music",components:{},data:function(){return{backgroundPic:e["c"].music,currentTrackIndex:0,currentBarWidth:0,duration:null,currentVolumeWidth:"30%",currentTime:"",isTimerPlaying:!1,currentTrack:null,transitionName:null,tracks:e["d"]}},created:function(){var t=this;this.currentTrack=this.tracks[0],this.audio=new Audio,this.audio.src=this.currentTrack.url,this.audio.ontimeupdate=function(){t.generateTime()},this.audio.onloadedmetadata=function(){t.generateTime()},this.audio.onended=function(){t.playNext(),this.isTimerPlaying=!0};for(var a=0;a<this.tracks.length;a++){var i=this.tracks[a],s=document.createElement("link");s.rel="prefetch",s.href=i.cover,s.as="image",document.head.appendChild(s)}},mounted:function(){},methods:{play:function(){this.audio.paused?(this.audio.play(),this.isTimerPlaying=!0):(this.audio.pause(),this.isTimerPlaying=!1)},generateTime:function(){var t=this.audio.currentTime/this.audio.duration*100;this.currentBarWidth=t+"%";var a=Math.floor(this.audio.duration/60),i=Math.floor(this.audio.duration-60*a),s=Math.floor(this.audio.currentTime/60),r=Math.floor(this.audio.currentTime-60*s);a<10&&(a="0"+a),i<10&&(i="0"+i),s<10&&(s="0"+s),r<10&&(r="0"+r),this.duration=a+":"+i,this.currentTime=s+":"+r},changeProgress:function(t){this.isTimerPlaying=!0,this.audio.pause(),this.updateBar(t.offsetX)},updateBar:function(t){var a=this.$refs.progress,i=this.audio.duration,s=t-a.offsetLeft,r=100*s/a.offsetWidth;r>100&&(r=100),r<0&&(r=0),this.currentBarWidth=r+"%",this.audio.currentTime=i*r/100,this.audio.play()},playNext:function(){this.transitionName="scale-out",this.currentTrackIndex<this.tracks.length-1?this.currentTrackIndex++:this.currentTrackIndex=0,this.currentTrack=this.tracks[this.currentTrackIndex],this.resetPlayer()},playPre:function(){this.transitionName="scale-in",this.currentTrackIndex>0?this.currentTrackIndex--:this.currentTrackIndex=this.tracks.length-1,this.currentTrack=this.tracks[this.currentTrackIndex],this.resetPlayer()},resetPlayer:function(){var t=this;this.currentBarWidth=0,this.audio.currentTime=0,this.audio.src=this.currentTrack.url,setTimeout((function(){t.isTimerPlaying?t.audio.play():t.audio.pause()}),300)},chooseVolume:function(t){var a=this.$refs.volume,i=t.offsetX-a.offsetLeft,s=100*i/a.offsetWidth;s>100&&(s=100),s<0&&(s=0),this.currentVolumeWidth=s+"%",this.audio.volume=s/100}}},c=n,o=(i("ab37"),i("2877")),u=Object(o["a"])(c,s,r,!1,null,null,null);a["default"]=u.exports},f632:function(t,a,i){}}]);
//# sourceMappingURL=chunk-0a6b649c.fdf83324.js.map