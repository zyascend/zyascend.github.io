(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-728be7f2"],{ab37:function(t,i,a){"use strict";var s=a("f632"),r=a.n(s);r.a},b76b:function(t,i,a){"use strict";a.r(i);var s=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"music-container",style:{background:"center url("+t.backgroundPic+") no-repeat"}},[a("div",{staticClass:"player"},[a("div",{class:t.isTimerPlaying?"player-cover cover-scale-up":"player-cover"},[a("transition-group",{attrs:{name:t.transitionName}},[t._l(t.tracks,(function(i,s){return[s===t.currentTrackIndex?a("div",{key:s,staticClass:"player-cove-item",style:{backgroundImage:"url("+i.cover+")"}}):t._e()]}))],2)],1),a("div",{staticClass:"player-down"},[a("div",{staticClass:"info"},[a("p",{staticClass:"name"},[t._v(t._s(t.currentTrack.name))]),a("p",{staticClass:"singer"},[t._v(t._s(t.currentTrack.singer))])]),a("div",{ref:"progress",staticClass:"progress-bar",on:{click:t.changeProgress}},[a("div",{staticClass:"progress-duration",style:{width:t.currentBarWidth}})]),a("div",{staticClass:"progress-info"},[a("p",{staticClass:"progress-played"},[t._v(t._s(t.currentTime))]),a("p",{staticClass:"progress-left"},[t._v(t._s(t.duration))])]),a("div",{staticClass:"control"},[a("a",{staticClass:"control-icon",on:{click:t.playPre}},[a("i",{staticClass:"fa fa-backward fa-2x"})]),a("a",{staticClass:"control-icon btn-play",on:{click:t.play}},[a("i",{class:t.isTimerPlaying?"fa fa-pause fa-2x":"fa fa-play fa-2x"})]),a("a",{staticClass:"control-icon",on:{click:t.playNext}},[a("i",{staticClass:"fa fa-forward fa-2x"})])]),a("div",{staticClass:"volume"},[t._m(0),a("div",{ref:"volume",staticClass:"volume-control",on:{click:t.chooseVolume}},[a("div",{staticClass:"volume-duration",style:{width:t.currentVolumeWidth}})]),t._m(1)])])])])},r=[function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("a",{staticClass:"volume-icon"},[a("i",{staticClass:"fa fa-volume-down"})])},function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("a",{staticClass:"volume-icon"},[a("i",{staticClass:"fa fa-volume-up"})])}],e=a("03c8"),n={name:"music",components:{},data:function(){return{backgroundPic:e["c"].music,currentTrackIndex:0,currentBarWidth:0,duration:null,currentVolumeWidth:"30%",currentTime:"",isTimerPlaying:!1,currentTrack:null,transitionName:null,tracks:e["d"]}},created:function(){var t=this;this.currentTrack=this.tracks[0],this.audio=new Audio,this.audio.src=this.currentTrack.url,this.audio.ontimeupdate=function(){t.generateTime()},this.audio.onloadedmetadata=function(){t.generateTime()},this.audio.onended=function(){t.playNext(),this.isTimerPlaying=!0};for(var i=0;i<this.tracks.length;i++){var a=this.tracks[i],s=document.createElement("link");s.rel="prefetch",s.href=a.cover,s.as="image",document.head.appendChild(s)}},mounted:function(){},methods:{play:function(){this.audio.paused?(this.audio.play(),this.isTimerPlaying=!0):(this.audio.pause(),this.isTimerPlaying=!1)},generateTime:function(){var t=this.audio.currentTime/this.audio.duration*100;this.currentBarWidth=t+"%";var i=Math.floor(this.audio.duration/60),a=Math.floor(this.audio.duration-60*i),s=Math.floor(this.audio.currentTime/60),r=Math.floor(this.audio.currentTime-60*s);i<10&&(i="0"+i),a<10&&(a="0"+a),s<10&&(s="0"+s),r<10&&(r="0"+r),this.duration=i+":"+a,this.currentTime=s+":"+r},changeProgress:function(t){this.isTimerPlaying=!0,this.audio.pause(),this.updateBar(t.offsetX)},updateBar:function(t){var i=this.$refs.progress,a=this.audio.duration,s=t-i.offsetLeft,r=100*s/i.offsetWidth;r>100&&(r=100),r<0&&(r=0),this.currentBarWidth=r+"%",this.audio.currentTime=a*r/100,this.audio.play()},playNext:function(){this.transitionName="scale-out",this.currentTrackIndex<this.tracks.length-1?this.currentTrackIndex++:this.currentTrackIndex=0,this.currentTrack=this.tracks[this.currentTrackIndex],this.resetPlayer()},playPre:function(){this.transitionName="scale-in",this.currentTrackIndex>0?this.currentTrackIndex--:this.currentTrackIndex=this.tracks.length-1,this.currentTrack=this.tracks[this.currentTrackIndex],this.resetPlayer()},resetPlayer:function(){var t=this;this.currentBarWidth=0,this.audio.currentTime=0,this.audio.src=this.currentTrack.url,setTimeout((function(){t.isTimerPlaying?t.audio.play():t.audio.pause()}),300)},chooseVolume:function(t){var i=this.$refs.volume,a=t.offsetX-i.offsetLeft,s=100*a/i.offsetWidth;s>100&&(s=100),s<0&&(s=0),this.currentVolumeWidth=s+"%",this.audio.volume=s/100}}},c=n,o=(a("ab37"),a("2877")),u=Object(o["a"])(c,s,r,!1,null,null,null);i["default"]=u.exports},f632:function(t,i,a){}}]);
//# sourceMappingURL=chunk-728be7f2.00e9fa27.js.map